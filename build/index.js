(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.i18n,s=window.wp.components,o=window.wp.element,r=window.wp.blockEditor;(0,t.registerBlockType)("namespace/quiz-block",{title:(0,n.__)("Quiz Block","namespace"),description:(0,n.__)("Block for creating a quiz with multiple questions and answers.","namespace"),icon:"smiley",category:"common",attributes:{questions:{type:"array",default:[]}},supports:{html:!1},edit:({attributes:t,setAttributes:n})=>{const[i,a]=(0,o.useState)(t.questions||[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)("div",null,(0,e.createElement)(s.Button,{onClick:()=>{const e={questionText:"",answerOptions:[{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]};a([...i,e]),n({questions:[...i,e]})}},"Add Question"))),(0,e.createElement)("div",{className:"quiz-block"},i.map(((t,o)=>(0,e.createElement)("div",{key:o,className:"question"},(0,e.createElement)(s.Button,{onClick:()=>(e=>{const t=[...i];t.splice(e,1),a(t),n({questions:t})})(o)},"Remove Question"),(0,e.createElement)(s.TextControl,{value:t.questionText,onChange:e=>((e,t)=>{const s=[...i];s[e].questionText=t,a(s),n({questions:s})})(o,e),placeholder:"Enter question text"}),(0,e.createElement)("ul",{className:"answer-options"},t.answerOptions.map(((t,r)=>(0,e.createElement)("li",{key:r},(0,e.createElement)("input",{type:"radio",checked:t.isCorrect,onChange:()=>((e,t)=>{const s=[...i];s[e].answerOptions.forEach(((e,n)=>{e.isCorrect=n===t})),a(s),n({questions:s})})(o,r)}),"Correct",(0,e.createElement)(s.TextControl,{value:t.answerText,onChange:e=>((e,t,s)=>{const o=[...i];o[e].answerOptions[t].answerText=s,a(o),n({questions:o})})(o,r,e),placeholder:`Enter answer option ${r+1}`}))))))))))},save:({attributes:t})=>{const{questions:n}=t;return(0,e.createElement)("div",{className:"quiz-block",data:JSON.stringify(n)})}})})();